# 正整数向上取整为2的幂

在某些场景中，需要计算大于正整数 x 的最小的 2 的幂的正整数值，就可以使用二进制的位移操作。

如：9的二进制表示为 1001，向上取整为2的幂的结果为 10000（16），因此，可以看出向上取整为2的幂即是将整数的二进制表示的最高位往左位移一位，或者可以看成 1111 + 1 = 10000，因此，需要将整数的最高位1往右的所有位都变成1，然后将得到的值 +1，即为所求。

```java
    // int为 4 字节 32 位，如果为 long 的话需要再新增一次位移
	// res |= (res >> 32);
	public static int ceilByTwo(int x) {
        if (x > 0) {
            int res = x - 1;

            res |= (res >> 1);
            res |= (res >> 2);
            res |= (res >> 4);
            res |= (res >> 8);
            res |= (res >> 16);

            // 有可能或超出范围，因此需要验证
            return res + 1;
        }
        return 0;
    }
```

